<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Online Quiz Application - Single File</title>
  <style>
    /* ----------------------------
       Simple, professional styling
       ---------------------------- */
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#7c3aed; /* purple accent */
      --muted:#9aa4b2;
      --success:#10b981;
      --danger:#ef4444;
      --glass: rgba(255,255,255,0.04);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#071024 0%, #0f1724 100%);color:#e6eef6}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:40px}
    .card{
      width:960px;max-width:95%;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;padding:28px;box-shadow:0 8px 30px rgba(2,6,23,0.6);backdrop-filter: blur(6px);
      display:grid;grid-template-columns: 1fr 360px;gap:20px;align-items:start;
    }

    /* Left - Quiz area */
    .quiz-area{padding:10px}
    header{display:flex;gap:10px;align-items:center;justify-content:space-between;margin-bottom:12px}
    header h1{font-size:20px;margin:0}
    .meta{display:flex;gap:12px;align-items:center}
    .chip{background:var(--glass);padding:6px 10px;border-radius:999px;font-size:13px;color:var(--muted)}

    .question-box{background:rgba(255,255,255,0.02);padding:18px;border-radius:10px;margin-bottom:14px}
    .question{font-size:18px;margin:0 0 12px}
    .options{display:grid;gap:10px}
    .option{background:transparent;border:1px solid rgba(255,255,255,0.04);padding:12px;border-radius:8px;cursor:pointer}
    .option:hover{transform:translateY(-2px)}
    .option.correct{border-color:var(--success);background:rgba(16,185,129,0.06)}
    .option.wrong{border-color:var(--danger);background:rgba(239,68,68,0.06)}
    .feedback{margin-top:10px;font-size:14px}

    /* Controls */
    .controls{display:flex;gap:10px;margin-top:14px}
    button{background:var(--accent);color:white;border:0;padding:10px 14px;border-radius:8px;cursor:pointer}
    button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

    /* Right - Sidebar */
    .sidebar{padding:16px;background:rgba(255,255,255,0.02);border-radius:10px}
    .timer{font-size:28px;font-weight:700;margin-bottom:8px}
    .progress{height:10px;background:rgba(255,255,255,0.03);border-radius:999px;overflow:hidden}
    .progress > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#06b6d4);width:0%}
    .stats{display:flex;flex-direction:column;gap:8px;margin-top:12px}
    .stat{display:flex;justify-content:space-between;font-size:14px;color:var(--muted)}

    footer.small{grid-column:1/-1;margin-top:14px;font-size:13px;color:var(--muted);text-align:center}

    /* Responsive */
    @media (max-width:880px){.card{grid-template-columns:1fr;}.sidebar{order:2}}
  </style>
</head>
<body>
  <div class="wrap">
    <main class="card">

      <!-- QUIZ AREA -->
      <section class="quiz-area">
        <header>
          <h1>Online Quiz — Practice & Test</h1>
          <div class="meta">
            <div class="chip" id="mode">Mode: Practice</div>
            <div class="chip" id="qcount">0 / 0</div>
          </div>
        </header>

        <div class="question-box">
          <div class="question" id="question">Press <strong>Start Quiz</strong> to begin.</div>
          <div class="options" id="options"></div>
          <div class="feedback" id="feedback"></div>
        </div>

        <div class="controls">
          <button id="startBtn">Start Quiz</button>
          <button id="nextBtn" class="secondary" disabled>Next</button>
          <button id="submitBtn" class="secondary" disabled>Submit</button>
          <button id="restartBtn" class="secondary" disabled>Restart</button>
        </div>

      </section>

      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div>
            <div class="timer" id="timer">--:--</div>
            <div class="chip" id="qtime">Per Question: 30s</div>
          </div>
          <div style="text-align:right">
            <div style="font-size:12px;color:var(--muted)">Score</div>
            <div style="font-weight:700;font-size:18px" id="score">0</div>
          </div>
        </div>

        <div style="margin-top:12px">
          <div class="progress" aria-hidden>
            <i id="progressBar"></i>
          </div>
          <div class="stats">
            <div class="stat"><span>Questions</span><span id="totalQ">0</span></div>
            <div class="stat"><span>Answered</span><span id="answered">0</span></div>
            <div class="stat"><span>Correct</span><span id="correct">0</span></div>
            <div class="stat"><span>Wrong</span><span id="wrong">0</span></div>
          </div>
        </div>

        <div style="margin-top:12px;font-size:13px;color:var(--muted)">
          Tips: Click an option to answer. Use "Next" to move on. Try timed mode for exam practice.
        </div>
      </aside>

      <footer class="small">Built with HTML, CSS & JavaScript • Optional: connect to Open Trivia DB to fetch questions.</footer>
    </main>
  </div>

  <script>
    /* ==================================================
       Quiz logic (single-file app) — easy to read + edit
       - Questions array: replace or extend as needed
       - Timer per question, instant feedback, scoring
       ================================================== */

    // ------------------ Configuration ------------------
    const CONFIG = {
      perQuestionTime: 30, // seconds
      totalQuestions: 8,    // how many questions to present (can be <= questions.length)
      mode: 'Practice' // 'Practice' or 'Timed' (affects auto-next behavior)
    }

    // ------------------ Sample Questions ------------------
    // You can replace this array with dynamic fetch from Open Trivia DB (optional)
    const QUESTIONS = [
      {
        q: 'Which HTML element is used to define JavaScript code?',
        options: ['<js>', '<javascript>', '<script>', '<code>'],
        answerIndex: 2,
        explanation: 'The <script> tag is used to embed JavaScript in HTML.'
      },
      {
        q: 'Which CSS property controls the text size?',
        options: ['font-style', 'text-size', 'font-size', 'text-style'],
        answerIndex: 2,
        explanation: 'Use font-size to set text size.'
      },
      {
        q: 'Which method adds an item to the end of an array in JavaScript?',
        options: ['push()', 'pop()', 'shift()', 'unshift()'],
        answerIndex: 0,
        explanation: 'push() appends an element to the end.'
      },
      {
        q: 'What does CSS stand for?',
        options: ['Cascading Style Sheets', 'Computer Style Sheets', 'Creative Style Sheets', 'Colorful Style Sheets'],
        answerIndex: 0,
        explanation: 'CSS stands for Cascading Style Sheets.'
      },
      {
        q: 'Which HTML attribute specifies an alternate text for an image, if the image cannot be displayed?',
        options: ['alt', 'src', 'title', 'longdesc'],
        answerIndex: 0,
        explanation: 'alt attribute provides alternate text for images.'
      },
      {
        q: 'In JavaScript, which operator is used for strict equality (value + type)?',
        options: ['==', '=', '===', '!=='],
        answerIndex: 2,
        explanation: '=== checks for both value and type equality.'
      },
      {
        q: 'Which CSS property is used to change the background color?',
        options: ['bgcolor', 'background-color', 'color', 'back-color'],
        answerIndex: 1,
        explanation: 'Use background-color to change the background color of an element.'
      },
      {
        q: 'Which HTML element defines the title of a document shown in the browser tab?',
        options: ['<header>', '<title>', '<meta>', '<head>'],
        answerIndex: 1,
        explanation: 'The <title> element (inside <head>) sets the tab title.'
      }
    ];

    // ------------------ State ------------------
    let state = {
      questions: [],
      currentIndex: -1,
      timer: null,
      timeLeft: CONFIG.perQuestionTime,
      score: 0,
      answered: 0,
      correct: 0,
      wrong: 0,
      started: false
    }

    // ------------------ DOM refs ------------------
    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const feedbackEl = document.getElementById('feedback');
    const startBtn = document.getElementById('startBtn');
    const nextBtn = document.getElementById('nextBtn');
    const submitBtn = document.getElementById('submitBtn');
    const restartBtn = document.getElementById('restartBtn');
    const timerEl = document.getElementById('timer');
    const progressBar = document.getElementById('progressBar');
    const qcountEl = document.getElementById('qcount');
    const totalQEl = document.getElementById('totalQ');
    const answeredEl = document.getElementById('answered');
    const correctEl = document.getElementById('correct');
    const wrongEl = document.getElementById('wrong');
    const scoreEl = document.getElementById('score');
    const modeEl = document.getElementById('mode');
    const qtimeEl = document.getElementById('qtime');

    // ------------------ Utility ------------------
    function shuffle(arr){
      for(let i=arr.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [arr[i],arr[j]]=[arr[j],arr[i]];
      }
    }

    // ------------------ Initialization ------------------
    function init(){
      // prepare questions: clone and shuffle
      state.questions = QUESTIONS.slice();
      shuffle(state.questions);
      if(CONFIG.totalQuestions && CONFIG.totalQuestions < state.questions.length){
        state.questions = state.questions.slice(0, CONFIG.totalQuestions);
      }
      totalQEl.textContent = state.questions.length;
      qcountEl.textContent = `0 / ${state.questions.length}`;
      modeEl.textContent = `Mode: ${CONFIG.mode}`;
      qtimeEl.textContent = `Per Question: ${CONFIG.perQuestionTime}s`;
    }

    // ------------------ Render a question ------------------
    function renderQuestion(i){
      clearTimer();
      const item = state.questions[i];
      questionEl.innerHTML = item.q;
      optionsEl.innerHTML = '';
      feedbackEl.textContent = '';

      item.options.forEach((opt, idx)=>{
        const btn = document.createElement('button');
        btn.className = 'option';
        btn.innerHTML = opt;
        btn.dataset.index = idx;
        btn.addEventListener('click', ()=>handleAnswer(idx, btn));
        optionsEl.appendChild(btn);
      });

      // update meta
      qcountEl.textContent = `${i+1} / ${state.questions.length}`;
      updateProgress(i+1);
      disableControls(false);

      // start timer for this question
      startTimer();
    }

    // ------------------ Timer ------------------
    function startTimer(){
      state.timeLeft = CONFIG.perQuestionTime;
      renderTimer();
      state.timer = setInterval(()=>{
        state.timeLeft--;
        renderTimer();
        if(state.timeLeft <= 0){
          clearTimer();
          handleTimeout();
        }
      },1000);
    }
    function clearTimer(){ if(state.timer){ clearInterval(state.timer); state.timer=null } }
    function renderTimer(){
      const m = Math.floor(state.timeLeft/60).toString().padStart(2,'0');
      const s = (state.timeLeft%60).toString().padStart(2,'0');
      timerEl.textContent = `${m}:${s}`;
    }

    function handleTimeout(){
      // mark as wrong automatically
      feedbackEl.textContent = 'Time up! The correct answer is highlighted.';
      markCorrectWrong(null, true);
      state.answered++;
      state.wrong++;
      updateStats();
      // in timed mode, auto-progress, else enable next
      if(CONFIG.mode === 'Timed'){
        setTimeout(()=> nextQuestion(), 900);
      } else {
        nextBtn.disabled = false;
      }
    }

    // ------------------ Answer handling ------------------
    function handleAnswer(selectedIndex, btnEl){
      if(btnEl.classList.contains('disabled')) return;
      clearTimer();
      const q = state.questions[state.currentIndex];
      const correctIndex = q.answerIndex;
      const isCorrect = selectedIndex === correctIndex;
      // feedback
      if(isCorrect){
        btnEl.classList.add('correct');
        feedbackEl.textContent = 'Correct! ' + (q.explanation || '');
        state.score += 10; state.correct++;
      } else {
        btnEl.classList.add('wrong');
        feedbackEl.textContent = 'Wrong. ' + (q.explanation || '');
        // highlight correct option
        const all = optionsEl.querySelectorAll('.option');
        if(all[correctIndex]) all[correctIndex].classList.add('correct');
        state.wrong++;
      }
      state.answered++;
      disableOptions();
      updateStats();
      // enable next or auto-next
      if(CONFIG.mode === 'Timed'){
        setTimeout(()=> nextQuestion(), 900);
      } else {
        nextBtn.disabled = false;
      }
    }

    function markCorrectWrong(selectedIndex=null, byTimeout=false){
      const q = state.questions[state.currentIndex];
      const correctIndex = q.answerIndex;
      const all = optionsEl.querySelectorAll('.option');
      if(byTimeout){
        if(all[correctIndex]) all[correctIndex].classList.add('correct');
      }
      disableOptions();
    }

    function disableOptions(){
      const all = optionsEl.querySelectorAll('.option');
      all.forEach(o=>{ o.classList.add('disabled'); o.disabled = true });
    }

    // ------------------ Navigation ------------------
    function startQuiz(){
      if(state.started) return;
      state.started = true;
      state.currentIndex = 0;
      state.score = 0; state.answered = 0; state.correct = 0; state.wrong = 0;
      startBtn.disabled = true; restartBtn.disabled = false; submitBtn.disabled = false; nextBtn.disabled = true;
      updateStats();
      renderQuestion(state.currentIndex);
    }

    function nextQuestion(){
      if(state.currentIndex < state.questions.length - 1){
        state.currentIndex++;
        renderQuestion(state.currentIndex);
        nextBtn.disabled = true;
      } else {
        // end
        finishQuiz();
      }
    }

    function finishQuiz(){
      clearTimer();
      disableOptions();
      startBtn.disabled = false; nextBtn.disabled = true; submitBtn.disabled = true; restartBtn.disabled = false;
      feedbackEl.innerHTML = `<strong>Quiz finished.</strong> Your score: ${state.score} / ${state.questions.length*10}`;
      questionEl.innerHTML = 'Quiz complete — well done!';
    }

    function restartQuiz(){
      clearTimer();
      state.started = false; state.currentIndex = -1; state.score = 0; state.answered = 0; state.correct = 0; state.wrong = 0;
      init();
      startBtn.disabled = false; nextBtn.disabled = true; submitBtn.disabled = true; restartBtn.disabled = true;
      questionEl.innerHTML = 'Press <strong>Start Quiz</strong> to begin.';
      optionsEl.innerHTML = '';
      timerEl.textContent = '--:--';
      updateStats();
      progressBar.style.width = '0%';
    }

    function submitQuiz(){
      finishQuiz();
    }

    // ------------------ UI updates ------------------
    function updateStats(){
      answeredEl.textContent = state.answered;
      correctEl.textContent = state.correct;
      wrongEl.textContent = state.wrong;
      scoreEl.textContent = state.score;
    }

    function updateProgress(done){
      const pct = Math.round((done / state.questions.length)*100);
      progressBar.style.width = pct + '%';
    }

    function disableControls(flag){
      nextBtn.disabled = flag || true;
    }

    // ------------------ Event listeners ------------------
    startBtn.addEventListener('click', ()=>{ startQuiz(); });
    nextBtn.addEventListener('click', ()=>{ nextQuestion(); });
    submitBtn.addEventListener('click', ()=>{ submitQuiz(); });
    restartBtn.addEventListener('click', ()=>{ restartQuiz(); });

    // ------------------ Kick off ------------------
    init();

    // Expose some helpers (for quick edits in console)
    window.QUIZ = { state, CONFIG, QUESTIONS };
  </script>
</body>
</html>
